; ******************************************************************************
; ******************************************************************************
;
;		Name : 		system.asm
;		Purpose : 	System functions
;		Author : 	Paul Robson (paul@robsons.org.uk)
;		Created : 	3rd October 2019
;
; ******************************************************************************
; ******************************************************************************

; ******************************************************************************
;
;									Run a Program
;
; ******************************************************************************

System_RUN: 	;; [run]
		jsr		ResetForRun 				; clear vars, stacks etc.
		jsr 	ResetCodePointer 			; point to first thing to do.
		jmp 	Execute						; and run

; ******************************************************************************
;
;									Run a Program
;
; ******************************************************************************

System_END: ;; [end]
		.byte 	$FF
		jmp 	WarmStart

; ******************************************************************************
;
;									Stop a Program
;
; ******************************************************************************

System_STOP: ;; [stop]
		jmp 	$FFFF
		.rerror "STOP"

; ******************************************************************************
;
;									New Program
;
; ******************************************************************************

System_New: ;; [new]		
		stz 	ProgramStart 				; zero the first offset, erases.
		jsr		ResetForRun 				; clear vars, stacks etc.
		rts

		